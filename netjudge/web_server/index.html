<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="" name="description"/>
    <title>COURSE_NAME_REPLACEMENT NetJudge</title>
    <link href="https://raw.githubusercontent.com/Veniamin-Arefev/NetJudge/master/netjudge/web_server/favicon.ico"
          rel="shortcut icon"/>
    <!--Frameworks-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <!--night mode script-->
    <script>
        $(function () {
            let night_button = $(".night-button");

            night_button.on("click", function (e) {
                $("html").toggleClass('night-mode');
                localStorage.setItem("night-mode", localStorage.getItem("night-mode") === 'no' ? 'yes' : 'no');
            });

            if (localStorage.getItem("night-mode") == null) {
                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    localStorage.setItem("night-mode", 'yes');
                } else {
                    localStorage.setItem("night-mode", 'no');
                }
            }

            if (localStorage.getItem("night-mode") === 'yes') {
                $("html").toggleClass('night-mode');
            }
        });
    </script>
    <style>
        html {
            height: 100vh;
        }

        body {
            min-height: 100vh;
            max-height: 100vh;
            max-width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-bottom: 5rem;
        }

        .form-control-general {
            max-width: 90%;
            margin: auto;
        }

        @media screen and (max-width: 800px) {
            .form-control-general {
                max-width: 100%;
                margin: auto;
            }

            tbody tr th:first-child {
                max-width: 40vw;
                overflow: hidden;
            }
        }

        .bg-purple {
            background-color: #7B68EE !important;
        }

        /* Night mode */
        .night-button {
            float: right;
            filter: invert(100%);
        }

        .night-mode {
            filter: invert(100%);
            background-color: #000;
        }

        .night-mode img {
            filter: invert(100%);
        }

        .night-mode .btn {
            filter: invert(100%);
        }

        .fixed-bottom-right {
            position: fixed;
            right: 0;
            bottom: 0;
            z-index: 1030;
        }

        .night-mode .bg-success {
            filter: invert(100%);
        }

        .night-mode .bg-purple {
            filter: invert(100%);
        }

        .night-mode .bg-warning {
            filter: invert(100%);
        }

        .night-mode .bg-danger {
            filter: invert(100%);
        }

        .night-mode .bg-primary {
            filter: invert(100%);
        }

        .night-mode .bg-info {
            filter: invert(100%);
        }

        /*slippery trs*/
        thead tr:first-child th {
            position: sticky;
            top: 0;
            background: #FFFFFF;
            z-index: 1;
        }

        tbody tr th:first-child {
            position: sticky;
            left: 0;
            background: #FFFFFF;
            z-index: 1;
        }

        .my_fit {
            height: 80vh !important;
        }
    </style>
</head>
<body class="">
<div class="text-center form-control-general">
    <h1 class="h3 mb-3 fw-normal">COURSE_NAME_REPLACEMENT Progress Check</h1>
    <div class="row justify-content-center">
        <div class="col">
            <textarea id="cookie_textarea" placeholder="Type your cookie here"></textarea>
        </div>
        <div class="col">
            <text class="p-2 bg-success">Passed on time</text>
        </div>
        <div class="col">
            <text class="p-2 bg-warning">Overdue for a week</text>
        </div>
        <div class="col">
            <text class="p-2 bg-danger">Overdue for a fortnight</text>
        </div>
        <div class="col">
            <text class="p-2 bg-primary">Plagiarism</text>
        </div>
        <div class="col">
            <text class="p-2 bg-info">Bad archive</text>
        </div>
        <div class="col">
            <button class="btn bg-purple" id="cookie-button" type="button">Set cookie</button>
        </div>
        <script>
            $(function () {
                let cookie_textarea = $("#cookie_textarea");
                let cookie_button = $("#cookie-button");

                function change_super_secret_cookie(event) {
                    if (event.which === 13) {
                        if (!event.repeat) {
                            document.cookie = "super_secret_cookie=" + cookie_textarea.val() + ";";
                            window.location.reload();
                        }
                        event.preventDefault(); // Prevents the addition of a new line in the text field
                    }
                }

                cookie_textarea.on("keydown", change_super_secret_cookie);
                cookie_button.on("click", change_super_secret_cookie);
            });
        </script>
    </div>
    <div class="overflow-scroll my_fit">
        <table class="table table-hover table-striped table-bordered align-middle" id="main_table">
        </table>
    </div>
    ADMIN_FORM_REPLACEMENT
    <h6 id="update-time"></h6>
</div>
<footer class="bg-transparent fixed-bottom-right">
    <div class="container-fluid">
        <a class="btn btn-danger btn-lg night-button m-2 fs-6">Night Mode</a>
    </div>
</footer>
</body>
</html>
